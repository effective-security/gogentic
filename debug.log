=== RUN   Test_Assistant_BuilderMethods
--- PASS: Test_Assistant_BuilderMethods (0.00s)
=== RUN   Test_Assistant_MCPMethods
--- PASS: Test_Assistant_MCPMethods (0.00s)
=== RUN   Test_Assistant_GetSystemPrompt_ErrorCases
--- PASS: Test_Assistant_GetSystemPrompt_ErrorCases (0.00s)
=== RUN   Test_Assistant_RegisterMCP_Error
--- PASS: Test_Assistant_RegisterMCP_Error (0.00s)
=== RUN   Test_Assistant_CallMCP_ErrorCases
--- PASS: Test_Assistant_CallMCP_ErrorCases (0.00s)
=== RUN   Test_Assistant_Run_EdgeCases
--- PASS: Test_Assistant_Run_EdgeCases (0.00s)
=== RUN   Test_Assistant_Run_ToolCallEdgeCases
--- PASS: Test_Assistant_Run_ToolCallEdgeCases (0.00s)
=== RUN   Test_AssistantTool
    assistant_tool_test.go:123: 
        	Error Trace:	/home/denis/code/es/gogentic/assistants/assistant_tool_test.go:123
        	Error:      	Should be true
        	Test:       	Test_AssistantTool
    assistant_tool_test.go:124: 
        	Error Trace:	/home/denis/code/es/gogentic/assistants/assistant_tool_test.go:124
        	Error:      	An error is expected but got nil.
        	Test:       	Test_AssistantTool
    assistant.go:313: Unexpected call to *mockllms.MockModel.GenerateContent([context.Background.WithValue(chatmodel.contextKey, *chatmodel.chatContext) [{system [You are helpful and friendly AI assistant.]} {human [What is a capital of largest country in Europe?]} {ai [This is a test answer 1.]} {ai [This is a test answer 2.]}] 0xb51180]) at /home/denis/code/es/gogentic/assistants/assistant.go:313 because: 
        expected call at /home/denis/code/es/gogentic/assistants/assistant_tool_test.go:59 has already been called the max number of times
--- FAIL: Test_AssistantTool (0.00s)
=== RUN   Test_AssistantTool_BuilderMethods
DEBUG: schema properties: &orderedmap.OrderedMap[string,*github.com/invopop/jsonschema.Schema]{pairs:map[string]*orderedmap.Pair[string,*github.com/invopop/jsonschema.Schema]{"content":(*orderedmap.Pair[string,*github.com/invopop/jsonschema.Schema])(0xc0004126c0)}, list:(*list.List[*github.com/wk8/go-ordered-map/v2.Pair[string,*github.com/invopop/jsonschema.Schema]])(0xc0004260f0)}
--- PASS: Test_AssistantTool_BuilderMethods (0.00s)
=== RUN   Test_AssistantTool_Call
--- PASS: Test_AssistantTool_Call (0.00s)
=== RUN   Test_AssistantTool_CallAssistant
--- PASS: Test_AssistantTool_CallAssistant (0.00s)
=== RUN   Test_AssistantTool_MCPMethods
--- PASS: Test_AssistantTool_MCPMethods (0.00s)
=== RUN   Test_Real_Assistant
    assistants_real_test.go:38: skipping real test
--- SKIP: Test_Real_Assistant (0.00s)
=== RUN   Test_Assistant_Defined
--- PASS: Test_Assistant_Defined (0.00s)
=== RUN   Test_Assistant_Chat
--- PASS: Test_Assistant_Chat (0.00s)
=== RUN   Test_Assistant_FailtedParseToolInput
--- PASS: Test_Assistant_FailtedParseToolInput (0.00s)
=== RUN   Test_Assistant_ParallelToolCalls
--- PASS: Test_Assistant_ParallelToolCalls (0.10s)
=== RUN   Test_Assistant_MultipleParallelToolCalls
    assistants_test.go:737: Processed tool calls: map[analyze_tool:true classify_tool:true extract_tool:true search_tool:true summarize_tool:true translate_tool:true validate_tool:true]
    assistants_test.go:738: Tool call results: map[analyze_tool:{"answer": "Result from analyze tool"} classify_tool:{"answer": "Result from classify tool"} extract_tool:{"answer": "Result from extract tool"} search_tool:{"answer": "Result from search tool"} summarize_tool:{"answer": "Result from summarize tool"} translate_tool:{"answer": "Result from translate tool"} validate_tool:{"answer": "Result from validate tool"}]
--- PASS: Test_Assistant_MultipleParallelToolCalls (0.35s)
=== RUN   Test_ChainCallOptions
=== PAUSE Test_ChainCallOptions
=== CONT  Test_ChainCallOptions
--- PASS: Test_ChainCallOptions (0.00s)
FAIL
FAIL	github.com/effective-security/gogentic/assistants	0.464s
FAIL
